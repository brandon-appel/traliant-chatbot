<html>
    <body>
        <!--For deployment to staging, include all content from here-->
        <style type='text/css'>
            .embeddedServiceHelpButton .helpButton .uiButton {
                background-color: #005290;
                font-family: "Arial", sans-serif;
            }
            .embeddedServiceHelpButton .helpButton .uiButton:focus {
                outline: 1px solid #005290;
            }
        </style>

        <script type='text/javascript' src='https://service.force.com/embeddedservice/5.0/esw.min.js'></script>
        <script type='text/javascript'>

            /*This is where we will want to pass values into the declared variables in order to denote user's authetnication status and known data attributes. Right now these are defaulted for testing.*/
            var firstname = "Brandon";
            var lastname = "Appel";
            var email = "brandon@cloudforia.com";
            var authenticated = true;


            var initESW = function(gslbBaseURL) {

                embedded_svc.settings.displayHelpButton = true; //Or false
                embedded_svc.settings.language = ''; //For example, enter 'en' or 'en-US'

                embedded_svc.settings.prepopulatedPrechatFields = {
                    FirstName: firstname,
                    LastName: lastname,
                    Email: email
                }; 
                embedded_svc.settings.extraPrechatFormDetails = [{
                        "label": "First Name",
                        "transcriptFields": ["First_Name__c"],
                        "value": firstname
                    },
                    {
                        "label": "Last Name",
                        "value": lastname,
                        "transcriptFields": ["Last_Name__c"]
                    },
                    {
                        "label": "authenticated",
                        "value": authenticated,
                        "transcriptFields": ["Authenticated__c"]
                    },
                    {
                        "label": "Email__c",
                        "value": email, 
                        "transcriptFields": ["Email__c"]
                    }
                ];
        
                embedded_svc.settings.enabledFeatures = ['LiveAgent'];
                embedded_svc.settings.entryFeature = 'LiveAgent';

                embedded_svc.init(
                    'https://traliant--dev1.sandbox.my.salesforce.com',
                    'https://traliant--dev1.sandbox.my.site.com/',
                    gslbBaseURL,
                    '00DVF000004g8Jp',
                    'Chatbot_Queue',
                    {
                        baseLiveAgentContentURL: 'https://c.la2s-core2.sfdc-lywfpd.salesforceliveagent.com/content',
                        deploymentId: '572VF000000KTp3',
                        buttonId: '573VF000000Dkkz',
                        baseLiveAgentURL: 'https://d.la2s-core2.sfdc-lywfpd.salesforceliveagent.com/chat',
                        eswLiveAgentDevName: 'Chatbot_Queue',
                        isOfflineSupportEnabled: false
                    }
                );
            };
        
            if (!window.embedded_svc) {
                var s = document.createElement('script');
                s.setAttribute('src', 'https://traliant--dev1.sandbox.my.salesforce.com/embeddedservice/5.0/esw.min.js');
                s.onload = function() {
                    initESW(null);
                };
                document.body.appendChild(s);
            } else {
                initESW('https://service.force.com');
            }
        </script>
        <!--TO HERE-->
        </body>
</html>